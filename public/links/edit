<style>
    :root {
        --bg-color: #ffffff;
        --text-color: #000000;
        --status-bg: #e0e0e0;
        --status-border: #cccccc;
    }
    
    #app-root {
        display: flex;
        flex-direction: column;
        height: 100vh;
        width: 100vw;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        overflow: hidden;
    }

    #editor-area {
        flex: 1;
        width: 100%;
        margin: 0;
        padding: 1rem;
        border: none;
        resize: none;
        outline: none;
        font-family: monospace;
        font-size: 14px;
        box-sizing: border-box;
        background-color: var(--bg-color);
        color: var(--text-color);
    }

    #status-bar {
        flex: 0 0 auto;
        padding: 5px 10px;
        background-color: var(--status-bg);
        border-top: 1px solid var(--status-border);
        font-family: sans-serif;
        font-size: 12px;
        display: flex;
        justify-content: flex-end;
    }
</style>

<div id="app-root">
    <textarea id="editor-area" placeholder="Start typing..."></textarea>
    <div id="status-bar">
        <span id="char-count-label">Characters: <span id="char-count-value">0</span></span>
    </div>
</div><script>
    var area = document.getElementById('editor-area');

    var load = function() {
        read(name).then(function(val) {
            area.value = val;
            area.focus();
        });
    };

    var save = function() {
        write(area.value, name).then(function() {});
    };

    area.oninput = save;
    
    window.onhashchange = load;
    
    load();
</script><script>
    var charDisplay = document.getElementById('char-count-value');
    var labelContainer = document.getElementById('char-count-label');
    
    var byteSep = document.createElement('span');
    byteSep.innerText = " | Bytes: ";
    labelContainer.appendChild(byteSep);
    
    var byteDisplay = document.createElement('span');
    byteDisplay.innerText = "0";
    labelContainer.appendChild(byteDisplay);

    var countBytes = function(s) {
        return new Blob([s]).size;
    };

    var updateStatus = function() {
        var val = area.value;
        charDisplay.innerText = val.length;
        byteDisplay.innerText = countBytes(val);
    };

    var _oldInput = area.oninput;
    area.oninput = function() {
        if (_oldInput) _oldInput();
        updateStatus();
    };

    updateStatus();
</script>